# cordova-plugin-mlenabled
Cordova pluging for detecting fake GPS usage in android devices

|Android 5.1|Android 6.0|
|:-:|:-:|
|Tested|Tested|


mlenabled stands for "Mock Location enabled".
This plugin provides the ability to check if the location is beign generated by a mock application. 
This plugin checks if any of the location providers is a mock location, if none of them are mock location provider, it verify 
that the location provided by all of them beign similar, otherwise it may be a spoofed location or that the register of the location still beign spoofed.

__NOTE__: No notes so far

This plugin defines a global `CLE` object, which has only onw method 'check(operation)'.
Although the object is in the global scope, it is not available until after the `deviceready` event, and it won't work
unless you have granted permission for `ACCESS_COARSE_LOCATION` or `ACCES_FINE_LOCATION` for your application.

```js
document.addEventListener("deviceready", onDeviceReady, false);
function onDeviceReady() {
    console.log(CLE.toString());
}
```

Report issues with this plugin on the [Bluemessaging System Dashboard ](https://bluemessaging.atlassian.net/secure/Dashboard.jspa)


## Installation

    cordova plugin add https://github.com/BlueMessaging/cordova-android-fakeGPS.git

## Supported Platforms
- Android

## Methods
- CLE.check

### CLE.check

Returns wheter the location is beign spoofed or not, and information on the verified providers.

    CLE.check(operation);

#### Parameters

- __operation__: The callback that is passed the current information.

#### Quick Example

```js
var s = function(r){console.debug(r);};
CLE.check(s);
//The result r is an string as:
// value:msj 
// where value can be:
//     true  -> if the location is from a mock provider 
//     false -> if the location is not from a mock provider, although this does not guarantee that the location obtained is real, since it can be a 'persistent' record of an emulator
//     off   -> if the location is turned off
//     nolocation ->  if for every location provider, Android has no location. This situation  could be exploited by a mock location  application, thus this option should be used carefully. 
// and msj is information about the execution of the plugin. Contains the API LEVEL and some information about of the location (if there is one).
 
"false:
API_LEVEL=23
LOCATION_MODE=3
Provider= passive
accuracy= 2
requireNetwork= false
reqquireSatelite= false
supportAltitude= false
supportBearing= false
supportSpeed= false
isEnabled= true
IsFromMockProvider= false
latitude= 19.4307222 longitude= -99.2017496
Provider= network
accuracy= 2
requireNetwork= false
reqquireSatelite= false
supportAltitude= true
supportBearing= true
supportSpeed= true
isEnabled= true
IsFromMockProvider= false
latitude= 19.4307222 longitude= -99.2017496
Provider= network
accuracy= 2
requireNetwork= false
reqquireSatelite= false
supportAltitude= true
supportBearing= true
supportSpeed= true
isEnabled= true
IsFromMockProvider= false
latitude= 19.4307222 longitude= -99.2017496
Provider= network
accuracy= 2
requireNetwork= false
reqquireSatelite= false
supportAltitude= true
supportBearing= true
supportSpeed= true
isEnabled= true
IsFromMockProvider= false
latitude= 19.4307222 longitude= -99.2017496
Provider= network
accuracy= 2
requireNetwork= false
reqquireSatelite= false
supportAltitude= true
supportBearing= true
supportSpeed= true
isEnabled= true
IsFromMockProvider= false
latitude= 19.4307222 longitude= -99.2017496
Provider= gps
accuracy= 1
requireNetwork= true
reqquireSatelite= true
supportAltitude= true
supportBearing= true
supportSpeed= true
isEnabled= true
No location
Provider= network
accuracy= 2
requireNetwork= false
reqquireSatelite= false
supportAltitude= true
supportBearing= true
supportSpeed= true
isEnabled= true
IsFromMockProvider= false
latitude= 19.4307222 longitude= -99.2017496
"
```
